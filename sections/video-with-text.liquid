{{ 'video-with-text.css' | asset_url | stylesheet_tag }}

{% liquid
  assign video = section.settings.video
  assign padding_top = section.settings.padding_top | append: "px"
  assign padding_bottom = section.settings.padding_bottom | append: "px"
  assign bg_color = section.settings.bg_color
  assign content_color = section.settings.content_color
  assign text_color = section.settings.text_color
  assign image = section.settings.image

  assign content_padding_top = section.settings.content_padding_top | append: "px"
  assign content_padding_bottom = section.settings.content_padding_bottom | append: "px"
  assign content_padding_right = section.settings.content_padding_right | append: "px"
  assign content_padding_left = section.settings.content_padding_left | append: "px"

  assign heading = section.settings.heading
  assign preheading = section.settings.preheading
%}    

<div class="video-with-text" style="
        --padding-top: {{ padding_top }};
        --padding-bottom: {{ padding_bottom }};
        --bg-color: {{ bg_color }};
        --text-color: {{ text_color }};">
  <div class="video-with-text__wrappwe page-width">
    <div class="video-with-text__inner" style="--content-color: {{ content_color }}">
      <div class="video-with-text__content" style="
              --content-padding-top: {{ content_padding_top }}; --content-padding-bottom: {{ content_padding_bottom }};
              --content-padding-left: {{ content_padding_left }}; --content-padding-right: {{ content_padding_right }};">
        <div class="video-with-text__preheading">{{ preheading }}</div>
        <div class="video-with-text__heading">{{ heading }}</div>
      </div>

      {% if video != blank %}
      <div class="video-with-text__video">
        {{ video | video_tag: loop: true, autoplay: true, muted: true, controls: false }}
      </div>
      {% elsif image != blank%}
        <div class="video-with-text__image">
          <div class="video-with-text__image--inner">
            {{ image | image_url: width: 1200 | image_tag }}
          </div>
        </div>
      {% endif %}
    </div>
  </div>
</div>    



{% schema %}
{
  "name": "Video with text",
  "tag": "section",
  "class": "section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "color",
      "id": "bg_color",
      "label": "Background color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "content_color",
      "label": "Content color",
      "default": "#f7f6f5"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text color",
      "default": "#23201d"
    },
    {
      "type": "text",
      "id": "preheading",
      "label": "Preheading",
      "default": "Preheading"
    },
    {
      "type": "richtext",
      "id": "heading",
      "label": "Heading",
      "default": "<p>Heading</p>"
    },
    {
      "type": "header",
      "content": "Video and image"
    },
    {
      "type": "video",
      "id": "video",
      "label": "t:sections.video.settings.video.label"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "header",
      "content": "Section padding"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Top padding",
      "default": 20
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Bottom padding",
      "default": 20
    },
    {
      "type": "header",
      "content": "Content padding"
    },
    {
      "type": "range",
      "id": "content_padding_top",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Top padding",
      "default": 80
    },
    {
      "type": "range",
      "id": "content_padding_bottom",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Bottom padding",
      "default": 80
    },
    {
      "type": "range",
      "id": "content_padding_left",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Left padding",
      "default": 80
    },
    {
      "type": "range",
      "id": "content_padding_right",
      "min": 0,
      "max": 200,
      "step": 2,
      "unit": "px",
      "label": "Right padding",
      "default": 0
    }
  ],
  "presets": [
    {
      "name": "Video with text"
    }
  ]
}
{% endschema %}